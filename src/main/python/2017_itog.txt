Проверено соответствие переменных в датасетах 2017 года описанию Росстата


Данные за 2017 год включают 7 таблиц в БД:
- 1_2007 (1344 переменных, 198368 строк)
- fe_2017 (16 переменных, 198347 строк)
- fi_2017 (82 переменных, 198342 строк)
- fk_2017 (13 переменных, 198353 строк)
- flff_2017 (69 переменных, 481479 строк)
- ft_2017 (8 переменных, 198359 строк)
- pr_2017 (8 переменных, 43608 строк)


Соотношение переменных из таблиц БД (1_2018, fe_2018, fi_2018, fk_2018, flff_2018, ft_2018, pr_2018) и переменных по документации Росстата:

# 1_2018 :
5. Доходы, субсидии, компенсации, обязательные платежи и самооценка финансового положения домохозяйств (FNttaoggkk.dbf) 
    - в описании Росстата нет переменной r2v11
    - в датасете нет переменной R3V1310
6. Расходы домохозяйств на товары длительного пользования, телевидение, связь, эксплуатацию транспортных средств, основное жилье и другую недвижимость (FRttaoggkk.dbf)
    - в датасете нет переменных r4wv19, r4wv28, r4wv38, r4wv48, r9v131, r9v132, r9v133, r9v134, r9v135, r9v136, r9v137
7. Расходы домохозяйств на основное жилье и другую недвижимость (FOttaoggkk.dbf) 
8. Ведение домохозяйствами самостоятельной деятельности  (FVttaoggkk.dbf) 
    - в названии переменной Росстата используется кириллическая раскладка
9. Расходы на оплату услуг самостоятельно занятых лиц. Остатки продуктов питания на начало и на конец ведения Дневника  (FXttaoggkk.dbf)  
    - в названии переменной Росстата используется кириллическая раскладка
10. Расходы домохозяйств в поездках за пределы региона постоянного проживания (FHttaoggkk.dbf)  
11. Запасы продуктов питания и наличие предметов длительного пользования (на конец года)  (FGttaoggkk.dbf)  
14. Аналитические, вспомогательные и расчетные показатели по итогам ОБДХ  (FCttaoggkk.dbf)
    - переменных DECILNRGS, DECILNFGS, DECILRRGS, DECILRFGS нет в датасете
15. Расчетные показатели по потреблению продуктов питания  (FDttaoggkk.dbf)  
16. Расчетные показатели  по доходам и располагаемым ресурсам выше и ниже величины прожиточного минимума (PMttaoggkk.dbf)
17. Дополнительный файл расчетных показателей федерального уровня по домохозяйству FAttaoggkk.dbf


# fe_2018 :
1. Расходы домохозяйств на продукты питания (FEttaoggkk.dbf)   


# fi_2018 : 
12. Карточка интервьюера  (FIttaoggkk.dbf)  


# fk_2018 :
2. Расходы домохозяйств на непродовольственные товары (FKttaoggkk.dbf)


# flff_2018 :
4. Состав домохозяйств, пенсионное обеспечение и социальная поддержка  членов домохозяйств (FLttaoggkk.dbf) 
18. Дополнительный файл расчетных показателей федерального уровня по членам домохозяйства FFttaoggkk.dbf
    - переменная tipmest взята из таблицы 14


# ft_2018 : 
3. Расходы домохозяйств на услуги и расходы, не связанные с потреблением (FTttaoggkk.dbf)


# pr_2018 : 
13. Расчетные показатели со средними ценами покупки продуктов питания (PRttaoggkk.dbf)


Выявленные ошибки / неточности / моменты, требующие уточнения:

- Есть переменные, которые есть в описании Росстата, однако в датасете их нет:
    - R3V1310 - наименование "Общая сумма поступлений", при этом в документе Росстата этот пункт вычеркнут. Однако в других случаях, когда переменная перечеркнута Росстатом, такая переменная есть в датасете (например, переменная R9V115)
    - DECILNRGS, DECILNFGS, DECILRRGS, DECILRFGS - различные децили по среднедушевым доходом (однако! переменные с децилями DECILNREG, DECILRREG есть в датасете). Те, что есть - общие децили по федеральному уровню. Те, которых нет - по городскому и сельскому населению отдельно на региональном или федеральном уровене
    - В датасетах 2017 года нет следующих переменных (есть в 1_2018). При этом эти переменные отмечены в файле Росстата (выделение желтым, красный шрифт). Переменные r9v... отмечены все. Переменные r4wv... тоже отмечены, но кроме них, отмечены таким же образом и другие, но эти другие отмеченные в датасете есть

 'r4wv19',
 'r4wv28',
 'r4wv38',
 'r4wv48',
 'r9v131',
 'r9v132',
 'r9v133',
 'r9v134',
 'r9v135',
 'r9v136',
 'r9v137
    

- Есть переменные, которые, наоборот, есть в датасете, однако их нет в описании Росстата:
    - В датасете 1_2017 есть две переменные с похожим названием: r2v111 и r2v11. При этом в описании Росстата есть только одна из них - r2v111. Значения переменных в датасете разные. Также разные значения "лишних" столбцов в 2018 и 2017 (в обеих годах есть эта лишняя переменная)
    - В датасетах 1_2017 и flff_2017 есть переменные с одинаковым названием 'ao', которых нет в описании Росстата. Значения отличаются. Также значения отличаются, по сравнению с 1_2018. Также в отличие от 1_2018, где столбец содержал только наны и нули, в таблицах 2017 года есть ненулевые значения. В 1_2017: 1000 значений из 3478 непустых содержит значения не 0. В flff_2017: 1481 ненулевых значений из 5771 непустых
    - В датаете 1_2017 есть переменные 'amest', 'ater', 'anasp', 'abud', которых нет в описании Росстата. При этом в них большое количество пропущенных значений, а amest, ater, anasp полностью совпадают с mest, ter, nasp в тех строках, где значения не пустые, а значит эти переменные можно просто удалить. Однако переменные 'abud' и 'bud' имеют разные значения в 54 строках из 1929 непустых для 'abud'. По всей видимости, прозошло дублирование столбцов, однако нужно понять, почему 'abud' отличается в 54 строках
        (Та же проблема в 2018)
    - В датасете 1_2017 присутствуют следущие переменные. (При этом их нет в 1_2018, нет в описании Росстата за 2017-2018. Однако данные переменные присутствуют в описании за 2015 год):
            (ПРИМЕЧАНИЕ. Попробовала сопоставить значения в 2015 и 2017 годах. Значения ведут себя по-разному в зависимости от конкретной переменной. По количеству непустых значений совпадений нет, но в некоторых переменных есть (в некоторых этого нет!) совпадение списка уникальных значений, иногда, как в переменной r9v24, например, при выводе id-шников строк с одинаковым значением, очень похожие id-шники, но не 100% совпадающие)
 
 'r9v21',
 'r9v22',
 'r9v23',
 'r9v24',
 'r9v25',
 'r9v26',
 'r9v31',
 'r9v32',
 'r9v33',
 'r9v34',
 'r9v35',
 'r9v36',
 'r9v41',
 'r9v42',
 'r9v43',
 'r9v44',
 'r9v45',
 'r9v46',
 'r9v47',
 'r9v48',
 'r9v51',
 'r9v52',
 'r9v53',
 'r9v54',
 'r9v55',
 'r9v56',
 'r9v57',
 'r9v58',
 'r9v61',
 'r9v62',
 'r9v63',
 'r9v64',
 'r9v65',
 'r9v66',
 'r9v67',
 'r9v68',
 'r9v71',
 'r9v72',
 'r9v73',
 'r9v74',
 'r9v81',
 'r9v82',
 'r9v83',
 'r9v84'
     
     
- некоторые пропуски в датасете логичны: например, в случаях, когда на вопрос отвечают только те респонденты, которые ответили утвердительно на предыдущий вопрос

- в таблицах (Росстат) №8 и №9 в шифрах вопросов (Имя поля) от Росстата встречаются кириллические буквы "а", "б"

- есть разница в названиях переменных в датасете и в документе Росстата:
    - coldet16 в датасете - COLDET16MNS у Росстата
    - detinv16, detinv25, npsmol16, npsmol03 и т.д. в датасете - DET_INV_16, DET_INV_25, NPS_MOL_16, NPS_MOL_03 и т.д - у Росстата
    - отдельно отметить: NPSD_MOL_16, NPSD_MOL_03 у Росстата - nsdmol16, nsdmol03 (то есть без 'p') в датасете. Это та же самая переменная, судя по порядку столбцов и перечисления переменных у Росстат
    